#+TITLE: ティーチングアシスタント(TA)時間管理システム
#+AUTHOR: ソフトウェア開発法 担当教員
#+EMAIL:
#+DATE: 2023年4月24日
#+OPTIONS: H:3 num:2 toc:2
#+OPTIONS: ^:nil @:t \n:nil ::t |:t f:t TeX:t
#+OPTIONS: skip:nil
#+OPTIONS: author:t
#+OPTIONS: email:nil
#+OPTIONS: creator:nil
#+OPTIONS: timestamp:nil
#+OPTIONS: timestamps:nil
#+OPTIONS: d:nil
#+OPTIONS: tags:t
#+TEXT:
#+DESCRIPTION:
#+KEYWORDS:
#+LANGUAGE: ja
#+LATEX_CLASS: jsarticle
#+LATEX_CLASS_OPTIONS: [a4j,dvipdfmx]
# #+LATEX_HEADER: \usepackage{plain-article}
#+LATEX_HEADER: \usepackage{pxjahyper}
# #+LATEX_HEADER: \renewcommand\maketitle{}
# #+LATEX_HEADER: \pagestyle{empty}
# #+LaTeX: \thispagestyle{empty}

* 要求項目
** 概要
   本システムを「ティーチングアシスタント(TA)時間管理システム」と称する．

   TA時間管理の業務とは，おおよそ以下の手順を踏む．
   まず，数十ある授業科目からTAを割当てたい科目を選択する．
   そして，その科目に対して 1名以上のTAを候補者(70名程度)から選出する．
   次に，選定された候補者に勤務時間帯を複数割当てる．
   その際，勤務の衝突，科目毎の総割当て時間の超過などがないかを確認する．
   最後に，割当て状況を反映した各種帳票を出力する．

   上記の業務は，これまで科目担当教員が個々に実施し，帳票の作成は，主に TA自身が行っていた．
   そこで，本システムでは，これらの作業を Web アプリケーションに代えることで教員や TAの負担を軽減したい．
   具体的には，教員がTAの選出と勤務時間の割当てを Web ブラウザから入力するのみで，
   TAの手を介さずに整合性の確認と帳票出力を可能とする．

** 本システムの利用者
   1) 本システムを利用する者は，概要で述べた教員に相当する利用者のみで構成される．
   2) 本来，教員は，授業毎に複数存在するが，本システムでは，それらの区別をせず，1名の教員が全てを入力すると想定してよい．
      したがって，利用者アカウントといった概念はない．
      (ただし，複数の利用者からの同時複数アクセスはありえる)

** 基本機能
   1) 利用者は，本システムを Web ブラウザから利用する．

   2) 利用者は，本システムが提供する Web インタフェースで，事前に登録済の「科目一覧画面」
      から科目を選択し，その科目に対応した 「TAシフト割当入力画面」を開く

   3) 対象科目の「TAシフト割当画面」を操作することで以下の操作を行う
      1) プルダウン等の入力方法で TA候補者一覧からTAを複数人選出し，割当てる
      2) 各TAについて，TA勤務時間帯を1つ以上追加する
      3) 画面内で整合性のチェックや警告の表示が行われる
      4) 帳票出力ボタンにより，帳票画面に遷移する
      5) ブラウザの機能を利用して帳票画面を印刷/保存する
      なお，上記手順における画面遷移はできるだけ少ないほうが望ましい．

   4) 全ての科目の入力を終えた利用者は，再び「科目一覧画面」を表示し，以下を確認する
      + 科目名一覧に表示された TA割当済総時間/TA割当可能総時間(分)の関係

** 入力の整合性の確認業務
   本システムでは，利用者の入力が以下の制約を満たしているかの確認を必要とする．
   制約違反が確認された場合，何らかの方法で警告を表示するか，入力そのものを受け付けない．

   1) 科目を跨ったTAの勤務時間帯の衝突がないこと
      + 入力そのものを受け付けない

   2) TAの実働時間の合計が科目に設定されたTA割当可能総時間(分)を超過していないこと
      + 警告を表示する

** 帳票の種類と出力方法
   本システムでは，以下の 2つの帳票出力機能を実装すること，ただし，様式1 は，オプショナルとする．
   1) 勤務予定表(様式2)
   2) 非常勤職員採用予定者調書学生用(様式1) (オプショナル)

   以下を要件とする
   + それそれの体裁は別紙参照．同様の情報が含まれていれば，かならずしも同じレイアウトでなくともよい．
   + また，本システムから得られない情報は，欄は作るが空欄にしておくこと．
   + 詳細は，協議をすること

** インタフェース画面とその役割
*** トップ画面
    + 各画面に遷移するメニュー画面やマニュアルへのリンクなど
    + ナビゲーションバーなどで実装してもよい

*** 科目一覧画面
    基本機能で述べた「科目一覧画面」で，最低限以下の項目を含むこと
    1) 対象年度 (year)
    2) 学期(気付) (term)
    3) 講義番号 (number)
    4) 授業科目名 (name)
    5) 担当教員(気付) (instructor)
    6) *割当済時間および警告*
    7) TA割当可能総時間(分) (time_budget)
    8) 備考 (description)

    割当済時間とは，この科目を担当する TAに割当てた実働時間の合計である．
    その他の項目の意味は，後述するマスタデータの説明を参照．

    + 本画面から科目を選択することで，TAシフト割当画面へ遷移する
    + 科目一覧のデータは，事前にシステムに与えられているので，編集機能は不可欠ではない．

*** TAシフト割当画面
    基本機能で述べた利用者が操作する主たる画面である．最低限以下の項目を含むこと．
    + 現在の操作対象である科目に対する「科目一覧画面」で示した項目と同等の項目
    + 現在割当てているTAの一覧
    + 現在割当てている全ての勤務時間帯の一覧，最低限以下の項目を含む:
      + 開始時刻，終了時刻，実働時間 (時刻とは日も含む)，担当TAの学生番号と氏名

    上記項目に加えて，ユーザインタフェースとして最低限以下を含むこと．
    + 現在割当てているTAの一覧に対してTAを追加，削除するインタフェース
    + TAに勤務時間帯を割当てたり削除したりするインタフェース
    + 各種帳票表示画面や科目一覧画面など，他画面へ遷移するリンク

    各種インタフェースは，必要に応じて別画面に遷移することで実現してもよい．

*** 帳票表示画面
    帳票表示画面は，PDF 等の印刷フォーマットの形式で出力してもよい．
    もしくは，Web ページのテーブル等を利用して表示してもよい．

    他の要件については，「帳票の種類と出力方法」の節を参照のこと．

*** TA候補者一覧画面
    + TA候補者一覧は，ワークフロー中には不要な画面であるが，
      現在登録されているTAの一覧を確認する (マスタデータの設置に問題ないか確認する) ための画面である．
    + マスタデータで述べる項目が漏れなく一覧できること
    + TA候補者一覧のデータは，事前にシステムに与えられているので，編集機能は不可欠ではない．

** マスタデータ
   マスタデータとは，利用者が入力する際のメニュー項目や事前データとして，利用者によらずあらかじめデータベース等に保存されているデータである．
   本システムのマスタデータは，授業科目に関するデータと TA候補者関するデータがあり，本システムの運用管理を担う者がシステム稼働前，あるいは年度の更新時に設置や更新をする．

   以下，2つのマスタデータについては，発注者より CSV データとして提供されるので，構築時に導入しておくこと．
   また，次年度の運用時に追加可能なように手順書やツールを提供すること．

*** マスタデータ1: コース (courses)
    + 以下の項目からなる
      1) 対象年度 (year)
      2) 学期(気付) (term)
      3) 講義番号 (number)
      4) 授業科目名 (name)
      5) 担当教員(気付) (instructor)
      6) TA割当可能総時間(分) (time_budget)
      7) 備考 (description)

    「気付き」とは，システムにおいて重要な意味は持たないが，利用者が確認することで
    入力の参考にする項目である．表記の揺れを含め，いかなる文字列も入力可能な項目である．

    対象年度 (year) とは，その科目が対象とする年度である．
    つまり，2023年度のある科目と2024年度の同名の科目は別の項目として同時に存在する．

*** マスタデータ2: ティーチングアシスタント (teaching_assistants)
    + 以下の項目からなる
      1) 対象年度 (year)
      2) 学生番号 (number)
      3) 学年 (grade)
      4) 氏名 (name)
      5) 研究室(気付) (labo)
      6) 備考 (description)

** その他の考慮すべき点やオプション
   1) マスタデータを設置する方法，年度更新時の作業について，ドキュメント及びツール類を提供すること．
      + ただし，科目一覧画面，TA候補者一覧画面から CSV ファイルをアップロードする機能を追加することで実現してもよい．

   2) マスタデータや割当ての結果は，10年程度にわたって保存されていること．
      したがって，次年度にマスタデータを追加する際は，前年度のマスタデータを削除してはならない．

   3) 本業務において，対象となる年度以外のデータは入力や一覧の候補に現れないようにすること．
      実現においては，以下のオプションが考えられる．
      1) システム起動時の引数などによりグローバルな設定として対象年度を固定
         することで，システムは対象年度のみのデータを操作対象とする．
         (マスタデータ更新時にグローバルな設定も変更してシステムを再起動する手順とその説明を用意すること)．
      2) 利用者が対象年度を選択できるようにユーザインタフェースを用意する．

   4) 本業務が発生するのは，対象年度の前の年度の年度末であることを考慮すること．

   5) セキュリティに配慮すること
      + 例えば，本システムにアカウントの区別はないが，BASIC認証などの何らかのアクセス制限は設けること．

   6) 同時に多数の利用者からアクセスがあってもデータの一貫性が失われないこと．

   7) 本システムは Ruby で実装すること．
* 参考資料
** マスタデータの例
*** table: courses
    | No. (id) | 対象年度 (year) | 学期(気付) (term) | 講義番号 (number) | 授業科目名 (name)           | 担当教員(気付) (instructor) | TA割当可能総時間(分) (time_budget) | 備考 (description) |
    |----------+-----------------+-------------------+-------------------+-----------------------------+-----------------------------+------------------------------------+--------------------|
    |        1 |            2023 |               1,2 |            095021 | 工学基礎実験実習            | 林                          |                              15750 |                    |
    |        2 |            2023 |                 1 |            50E010 | ソフトウェア開発法(基礎)    | 後藤                        |                               4900 |                    |
    |        3 |            2023 |                 2 |            50E011 | ソフトウェア開発法(応用)    | 後藤                        |                               4900 |                    |
    |        4 |            2023 |                 1 |            098404 | プログラミング演習1         | 後藤                        |                               3780 |                    |
    |        5 |            2023 |                 2 |            098405 | プログラミング演習2         | 後藤                        |                               3780 |                    |
    |        6 |            2023 |                 3 |            098410 | システムプログラミング1     | 乃村                        |                               4200 |                    |
    |        7 |            2023 |                 4 |            098411 | システムプログラミング2     | 乃村                        |                               4200 |                    |
    |        8 |            2023 |                 1 |            098417 | 情報工学実験A(ハードウェア) | 相田                        |                              13140 |                    |
    |        9 |            2023 |                 3 |            098421 | 情報工学実験B(メディア処理) | 原                          |                               3460 |                    |
    |       10 |            2023 |                 3 |            098421 | 情報工学実験B(メディア処理) | 右田                        |                               4000 |                    |
    |       11 |            2023 |                 4 |            098423 | 情報工学実験C(ソフトウェア) | 笹倉                        |                               8100 |                    |
    |       12 |            2023 |                 4 |            098423 | 情報工学実験C(ソフトウェア) | 山内                        |                               5670 |                    |
    |       13 |            2023 |                 1 |            098401 | データ構造とアルゴリズム    | 山内                        |                               1300 |                    |
    |       14 |            2023 |                 1 |            098413 | プログラミング技法          | 乃村                        |                               1400 |                    |
    |       16 |            2023 |                 3 |            098408 | オペレーティングシステム    | 山内                        |                               1500 |                    |
    |       17 |            2023 |                 3 |            098419 | 情報ネットワーク論          | 乃村                        |                               1400 |                    |
    |       18 |            2023 |                 4 |            098422 | 並列分散処理                | 山内                        |                               1500 |                    |
    |       19 |            2023 |                 4 |            098615 | ディジタル信号処理          | 林                          |                               1200 |                    |
    |       20 |            2023 |                 4 |            095026 | 工学安全教育                | Zeynep                      |                                480 |                    |
    |       21 |            2023 |                 4 |            098412 | 応用数学                    | 高橋                        |                               1680 |                    |
    |       22 |            2023 |                 1 |            098415 | 人工知能                    | 諸岡                        |                               1400 |                    |
    |       24 |            2023 |                 2 |            098609 | 情報セキュリティ            | 山内                        |                               1400 |                    |
    |       25 |            2023 |                 1 |            098301 | 統計データ解析基礎          | 高橋                        |                               1400 |                    |
*** table: teaching_assistants
    *氏名は架空の物で置き換えられている*
    | No. (id) | 対象年度 (year) | 学生番号 (number) | 学年 (grade) | 氏名 (name) | 研究室(気付) (labo) | 備考 (description) |
    |----------+-----------------+-------------------+--------------+-------------+---------------------+--------------------|
    |        1 |            2023 | 43M21414          | M2           | 内山 勝善   | 門田研              |                    |
    |        2 |            2023 | 43M21437          | M2           | 高田 友紀   | 門田研              |                    |
    |        3 |            2023 | 43M22401          | M2           | 宮本 篤彦   | 諸岡研              |                    |
    |        4 |            2023 | 43M22402          | M2           | 阿部 佳英   | 高橋研              |                    |
    |        5 |            2023 | 43M22403          | M2           | 吉村 優美子 | YUCEL研             |                    |
    |        6 |            2023 | 43M22404          | M2           | 松永 瞳     | 高橋研              |                    |
    |        7 |            2023 | 43M22405          | M2           | 加藤 真司   | 太田研              |                    |
    |        8 |            2023 | 43M22406          | M2           | 竹山 大地   | 乃村研              |                    |
    |        9 |            2023 | 43M22407          | M2           | 山田 伸輔   | 門田研              |                    |
    |       10 |            2023 | 43M22408          | M2           | 北川 龍馬   | 乃村研              |                    |
    |       11 |            2023 | 43M22409          | M2           | 金光 毅     | 山内研              |                    |
    |       12 |            2023 | 43M22410          | M2           | 岡本 太郎   | 後藤研              |                    |
    |       13 |            2023 | 43M22411          | M2           | 権藤 裕也   | 諸岡研              |                    |
    |       14 |            2023 | 43M22412          | M2           | 鈴木 晃一郎 | 太田研              |                    |
    |       15 |            2023 | 43M22413          | M2           | 天野 亜矢   | 渡邊研              |                    |
    |       16 |            2023 | 43M22414          | M2           | 入江 和也   | 高橋研              |                    |
    |       17 |            2023 | 43M22415          | M2           | 河原 良一   | 後藤研              |                    |
    |       18 |            2023 | 43M22416          | M2           | 木下 望     | 山内研              |                    |
    |       19 |            2023 | 43M22417          | M2           | 草野 圭司   | 諸岡研              |                    |
    |       20 |            2023 | 43M22418          | M2           | 渡邊 俊介   | 山内研              |                    |
    |       21 |            2023 | 43M22419          | M2           | 香川 浩     | 諸岡研              |                    |
    |       22 |            2023 | 43M22420          | M2           | 浅野 はるな | 乃村研              |                    |
    |       23 |            2023 | 43M22421          | M2           | 奥 貴史     | 高橋研              |                    |
    |       24 |            2023 | 43M22422          | M2           | 山田 尚之   | 渡邊研              |                    |
    |       25 |            2023 | 43M22423          | M2           | 原田 雅美   | 竹内研              |                    |
    |       26 |            2023 | 43M22424          | M2           | 佐藤 悠佑   | 諸岡研              |                    |
    |       27 |            2023 | 43M22425          | M2           | 山本 みな   | 諸岡研              |                    |
    |       28 |            2023 | 43M22426          | M2           | 木村 登     | 渡邊研              |                    |
    |       29 |            2023 | 43M22427          | M2           | 斉藤 賢治   | YUCEL研             |                    |
    |       30 |            2023 | 43M22428          | M2           | 渡邊 嘉幸   | 諸岡研              |                    |
    |       31 |            2023 | 43M22429          | M2           | 石川 聡     | 後藤研              |                    |
    |       32 |            2023 | 43M22430          | M2           | 大塚 忠     | 竹内研              |                    |
    |       33 |            2023 | 43M22431          | M2           | 永野 和也   | 門田研              |                    |
    |       34 |            2023 | 43M22432          | M2           | 黒須 竜輔   | 山内研              |                    |
    |       35 |            2023 | 50M23201          | M1           | 小川 好美   | 諸岡研              |                    |
    |       36 |            2023 | 50M23202          | M1           | 宮本 緑     | 諸岡研              |                    |
    |       37 |            2023 | 50M23203          | M1           | 山崎 達     | 太田研              |                    |
    |       38 |            2023 | 50M23204          | M1           | 関 祥子     | 高橋研              |                    |
    |       39 |            2023 | 50M23205          | M1           | 島村 真美   | 乃村研              |                    |
    |       40 |            2023 | 50M23206          | M1           | 今野 丈志   | 諸岡研              |                    |
    |       41 |            2023 | 50M23207          | M1           | 泉 知子     | 後藤研              |                    |
    |       42 |            2023 | 50M23208          | M1           | 中島 亮一   | 太田研              |                    |
    |       43 |            2023 | 50M23209          | M1           | 布施 剛士   | 竹内研              |                    |
    |       44 |            2023 | 50M23210          | M1           | 松尾 哲史   | 諸岡研              |                    |
    |       45 |            2023 | 50M23211          | M1           | 岩田 満里奈 | 渡邊研              |                    |
    |       46 |            2023 | 50M23212          | M1           | 大島 晃     | 高橋研              |                    |
    |       47 |            2023 | 50M23213          | M1           | 児玉 真理子 | 渡邊研              |                    |
    |       48 |            2023 | 50M23214          | M1           | 寺門 薫     | 竹内研              |                    |
    |       49 |            2023 | 50M23215          | M1           | 田中 直哉   | 渡邊研              |                    |
    |       50 |            2023 | 50M23216          | M1           | 山本 仁一   | 太田研              |                    |
    |       51 |            2023 | 50M23217          | M1           | 茂山 弥生   | 太田研              |                    |
    |       52 |            2023 | 50M23218          | M1           | 藤原 美恵子 | 乃村研              |                    |
    |       53 |            2023 | 50M23219          | M1           | 三木 佳代   | 高橋研              |                    |
    |       54 |            2023 | 50M23220          | M1           | 野沢 智子   | 山内研              |                    |
    |       55 |            2023 | 50M23221          | M1           | 山田 和行   | 太田研              |                    |
    |       56 |            2023 | 50M23222          | M1           | 中野 賢治   | 山内研              |                    |
    |       57 |            2023 | 50M23223          | M1           | 渡辺 拓     | YUCEL研             |                    |
    |       58 |            2023 | 50M23224          | M1           | 小川 恭介   | 乃村研              |                    |
    |       59 |            2023 | 50M23225          | M1           | 畠山 大輔   | 竹内研              |                    |
    |       60 |            2023 | 50M23226          | M1           | 成瀬 彩佳   | 太田研              |                    |
    |       61 |            2023 | 50M23227          | M1           | 吉田 雅之   | 高橋研              |                    |
    |       62 |            2023 | 50M23228          | M1           | 池田 浩二   | 太田研              |                    |
    |       63 |            2023 | 50M23229          | M1           | 伊藤 恵太   | 門田研              |                    |
    |       64 |            2023 | 50M23230          | M1           | 早川 隼     | 乃村研              |                    |
    |       65 |            2023 | 50M23231          | M1           | 清水 優希   | 門田研              |                    |
** 想定されるデータベースのスキーマ
   #+begin_src mermaid :file dyn/img/schema.svg
     erDiagram
         courses ||--o{ assignments : "has_many :assignments, dependent: :destroy"
         teaching_assistants o|--o{ assignments : "has_many :assignments, dependent: :nullify"
         assignments ||--o{ work_hours : "has_many :work_hours, dependent: :destroy"

         %% has_many :assignments, dependent: :destroy
         courses {
           integer id PK
           integer year "対象年度"
           string term "学期(気付)"
           string number "講義番号"
           string name "授業科目名"
           string instructor "担当教員(気付)"
           integer time_budget "TA割当可能総時間(分)"
           string description "備考"
         }

         %% has_many :assignments, dependent: :nullify
         teaching_assistants {
           integer id PK
           integer year "対象年度"
           string number "学生番号"
           string name "氏名"
           string grade "学年"
           string labo "研究室(気付)"
           string description "備考"
         }

         %% has_many :work_hours, dependent: :destroy
         %% blongs_to :courses
         %% blongs_to :teaching_assistants
         assignments {
           integer id PK
           references course_id FK "授業科目"
           references teaching_assistant_id FK "TA"
           string description "備考"
         }

         %% blongs_to :assignments
         work_hours {
           integer id PK
           datetime dtstart "勤務開始時刻"
           datetime dtend "勤務終了時刻"
           integer actual_working_minutes "実働時間(分)"
           references assignment_id FK "労働時間の割当先"
         }
   #+end_src

   # [[file:dyn/img/schema.svg]]

** テーブルと OR マッパの関係
   上記 4つのテーブル courses, teaching_assistants, assignments,
   work_hours について，ORマッパを想定したクラス
   (モデル) を考えた場合，各モデルには，以下のような関係がある．

   + Course ::
     + has_many :assignments, dependent: :destroy
     + has_many :teaching_assistants, through: :assignments

     レコードが消滅した場合，関係する Assignment は消去されるべきだが，
     TeachingAssistant は，温存されなければならない．

   + TeachingAssistant ::
     + has_many :courses, through: :assignments
     + has_many :assignments, dependent: :nullify

     レコードが消滅した場合，関係する Course に影響を与えてはならない．
     Assignment も温存 (Course に結びついたままに) し，
     teaching_assistant_id を nullify することで，Assignment に
     TA が割り振られていない状況を許す．

   + Assignment ::
     + has_many :work_hours, dependent: :destroy
     + belongs_to :course
     + belongs_to :teaching_assistant, optional: true

     Course と TeachingAssistant の中間モデル的な存在だが
     WorkHour を収容している点で，完全な中間モデルというわけではない．

     これは，WorkHour を直接 TeachingAssistant に関連付けずに (つまり WorkHour と Assignment を 1つのモデルで構成せずに)
     Assignment を間に挟むことで，TA未選出ながら勤務シフトは入力済の状況を表現するためである．

     そのため，teaching_assistant_id は null を許す (opional) としなければならない．

     レコードが消滅した場合，関係する全ての WorkHour は消去されるべきであるが，他には影響を与えてはならない．

   + WorkHour ::
     + belongs_to :assignment

     レコードが消滅した場合，その他には影響を与えてはならない．


** 中間テーブルのサンプルデータ
*** table: assignments
    「システムプログラミング1」 (id: 6) に 3名の TA (id: 1,2,3) を割当てた様子
    | id | course_id | teaching_assistant_id | description |
    |----+-----------+-----------------------+-------------|
    |  1 |         6 |                     1 |             |
    |  2 |         6 |                     2 |             |
    |  3 |         6 |                     3 |             |

*** table: work_hours
    assignment (id: 1,2,3) にそれぞれ 7回づつの講義を割当てた様子，勤務時間は全て同一にしているが，
    もちろん違うこともありえる．
    | id | dtstart          | dtend            | actual_working_minutes | assignment_id |
    |----+------------------+------------------+------------------------+---------------|
    |  1 | 2023-10-02 13:25 | 2023-10-02 17:20 |                    200 |             1 |
    |  2 | 2023-10-16 13:25 | 2023-10-16 17:20 |                    200 |             1 |
    |  3 | 2023-10-23 13:25 | 2023-10-23 17:20 |                    200 |             1 |
    |  4 | 2023-10-30 13:25 | 2023-10-30 17:20 |                    200 |             1 |
    |  5 | 2023-11-06 13:25 | 2023-11-06 17:20 |                    200 |             1 |
    |  6 | 2023-11-13 13:25 | 2023-11-13 17:20 |                    200 |             1 |
    |  7 | 2023-11-20 13:25 | 2023-11-20 17:20 |                    200 |             1 |
    |  8 | 2023-10-02 13:25 | 2023-10-02 17:20 |                    200 |             2 |
    |  9 | 2023-10-16 13:25 | 2023-10-16 17:20 |                    200 |             2 |
    | 10 | 2023-10-23 13:25 | 2023-10-23 17:20 |                    200 |             2 |
    | 11 | 2023-10-30 13:25 | 2023-10-30 17:20 |                    200 |             2 |
    | 12 | 2023-11-06 13:25 | 2023-11-06 17:20 |                    200 |             2 |
    | 13 | 2023-11-13 13:25 | 2023-11-13 17:20 |                    200 |             2 |
    | 14 | 2023-11-20 13:25 | 2023-11-20 17:20 |                    200 |             2 |
    | 15 | 2023-10-02 13:25 | 2023-10-02 17:20 |                    200 |             3 |
    | 16 | 2023-10-16 13:25 | 2023-10-16 17:20 |                    200 |             3 |
    | 17 | 2023-10-23 13:25 | 2023-10-23 17:20 |                    200 |             3 |
    | 18 | 2023-10-30 13:25 | 2023-10-30 17:20 |                    200 |             3 |
    | 19 | 2023-11-06 13:25 | 2023-11-06 17:20 |                    200 |             3 |
    | 20 | 2023-11-13 13:25 | 2023-11-13 17:20 |                    200 |             3 |
    | 21 | 2023-11-20 13:25 | 2023-11-20 17:20 |                    200 |             3 |


** レコードの値と制約に関する議論
   以下は，ER図から分かることであるが，注釈しておく．

   + ほとんどの外部キーは 非NULL 制約を持つが，
     teaching_assistant_id は NULL を許す．理由は，前述の通り．

   + ほとんどの「数」に見えるカラムは，実際には数値ではない．
     数値として取り扱うべきは，おそらく「対象年度」，
     「実働時間(分)」，「TA割当可能総時間(分)」のみである．

   以下は，システムの要件に応じて検討しなければならない．

   + ある course を削除する際，関係する assignment がある場合，
     いずれの挙動が適切か考えるべきである
     + 削除を許さない
     + assignment と共に削除する (work_hour も消える)

   上記は，以下の関係も同様である
   + teaching_assistant を削除する際の assignment
   + assignment を削除する場合の work_hours
